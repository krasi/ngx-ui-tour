import { Component, ContentChild, Input, TemplateRef, ViewChild } from '@angular/core';
import { TourHotkeyListenerComponent } from 'ngx-ui-tour-core';
import { MatMenu, MatMenuModule } from '@angular/material/menu';
import { MatCardModule } from '@angular/material/card';
import { NgTemplateOutlet } from '@angular/common';
import { MatButtonModule } from '@angular/material/button';
import { MatIconModule } from '@angular/material/icon';
import * as i0 from "@angular/core";
import * as i1 from "../tour-step-template.service";
import * as i2 from "../ngx-md-menu-tour.service";
import * as i3 from "@angular/material/card";
import * as i4 from "@angular/material/menu";
import * as i5 from "@angular/material/button";
import * as i6 from "@angular/material/icon";
export class TourStepTemplateComponent extends TourHotkeyListenerComponent {
    constructor(tourStepTemplateService, tourService) {
        super(tourService);
        this.tourStepTemplateService = tourStepTemplateService;
        this.tourService = tourService;
        this.step = {};
    }
    ngAfterViewInit() {
        this.tourStepTemplateService.templateComponent = this;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.12", ngImport: i0, type: TourStepTemplateComponent, deps: [{ token: i1.TourStepTemplateService }, { token: i2.NgxmTourService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.12", type: TourStepTemplateComponent, isStandalone: true, selector: "tour-step-template", inputs: { stepTemplate: "stepTemplate" }, queries: [{ propertyName: "stepTemplateContent", first: true, predicate: TemplateRef, descendants: true }], viewQueries: [{ propertyName: "tourStep", first: true, predicate: MatMenu, descendants: true }], usesInheritance: true, ngImport: i0, template: "<mat-menu [overlapTrigger]=\"false\">\n    <ng-container\n        *ngTemplateOutlet=\"\n            stepTemplate || stepTemplateContent || defaultTemplate;\n            context: { step: step }\n        \"\n    ></ng-container>\n</mat-menu>\n\n<ng-template #defaultTemplate let-step=\"step\">\n    <mat-card\n        (click)=\"$event.stopPropagation()\"\n        [style.width]=\"step.stepDimensions?.width\"\n        [style.min-width]=\"step.stepDimensions?.minWidth\"\n        [style.max-width]=\"step.stepDimensions?.maxWidth\"\n    >\n        <mat-card-header>\n            <div class=\"header-group\">\n                <mat-card-title>\n                    {{ step.title }}\n                </mat-card-title>\n                <button\n                    mat-icon-button\n                    (click)=\"tourService.end()\"\n                    class=\"close\"\n                >\n                    <mat-icon>close</mat-icon>\n                </button>\n            </div>\n        </mat-card-header>\n\n        <mat-card-content\n            class=\"mat-body\"\n            [innerHTML]=\"step.content\"\n        ></mat-card-content>\n\n        <mat-card-actions\n            [class.no-progress]=\"!step.showProgress\"\n        >\n            <button\n                mat-button\n                class=\"prev\"\n                [disabled]=\"!tourService.hasPrev(step)\"\n                (click)=\"tourService.prev()\"\n            >\n                <mat-icon>chevron_left</mat-icon>\n                {{ step.prevBtnTitle }}\n            </button>\n            @if (step.showProgress) {\n                <div class=\"progress\">{{ tourService.steps?.indexOf(step) + 1 }} / {{ tourService.steps?.length }}</div>\n            }\n            @if (tourService.hasNext(step) && !step.nextOnAnchorClick) {\n                <button\n                    class=\"next\"\n                    (click)=\"tourService.next()\"\n                    mat-button\n                >\n                    {{ step.nextBtnTitle }}\n                    <mat-icon iconPositionEnd>chevron_right</mat-icon>\n                </button>\n            }\n            @if (!tourService.hasNext(step)) {\n                <button\n                    mat-button\n                    (click)=\"tourService.end()\"\n                >\n                    {{ step.endBtnTitle }}\n                </button>\n            }\n        </mat-card-actions>\n    </mat-card>\n</ng-template>\n", styles: ["html{--mat-icon-button-touch-target-display: none}.mat-mdc-icon-button.mat-mdc-button-base{--mdc-icon-button-state-layer-size: 36px;width:var(--mdc-icon-button-state-layer-size);height:var(--mdc-icon-button-state-layer-size);padding:6px}::ng-deep .tour-step .mat-mdc-menu-content{padding:0!important}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step{min-width:unset;max-width:unset;overflow:unset;box-shadow:none;filter:drop-shadow(0px 5px 5px rgba(0,0,0,.2)) drop-shadow(0px 8px 10px rgba(0,0,0,.14))}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow{position:relative}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow:after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow:before{bottom:100%;border:solid transparent;content:\" \";height:0;width:0;position:absolute;pointer-events:none}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow:after{border-color:#fff0;border-width:8px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow:before{border-color:#e3e4e600;border-width:9px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before:not(.horizontal):after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before:not(.horizontal):before{right:10px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before:not(.horizontal):after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before:not(.horizontal):before{right:20px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before:not(.horizontal):before{margin-right:-1px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after:not(.horizontal):after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after:not(.horizontal):before{left:10px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after:not(.horizontal):after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after:not(.horizontal):before{left:20px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after:not(.horizontal):after{margin-left:1px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-below:not(.horizontal){margin-top:10px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-below:not(.horizontal):after{border-top-color:transparent;border-bottom-color:#fff}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-below:not(.horizontal):before{border-top-color:transparent;border-bottom-color:#e3e4e6}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-above:not(.horizontal){margin-bottom:10px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-above:not(.horizontal):after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-above:not(.horizontal):before{top:100%}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-above:not(.horizontal):after{border-top-color:#fff;border-bottom-color:transparent}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-above:not(.horizontal):before{border-top-color:#e3e4e6;border-bottom-color:transparent}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before.horizontal{margin-right:10px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before.horizontal:after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before.horizontal:before{left:100%}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before.horizontal:after{border-left-color:#fff;border-right-color:transparent}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before.horizontal:before{border-left-color:#e3e4e6;border-right-color:transparent}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after.horizontal{margin-left:10px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after.horizontal:after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after.horizontal:before{right:100%}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after.horizontal:after{border-left-color:transparent;border-right-color:#fff}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after.horizontal:before{border-left-color:transparent;border-right-color:#e3e4e6}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-below.horizontal:after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-below.horizontal:before{top:16px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-below.horizontal:after{margin-top:1px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-above.horizontal:after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-above.horizontal:before{bottom:16px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-above.horizontal:after{margin-bottom:1px}mat-card{box-shadow:none}mat-card-content{margin:8px 0}mat-card-actions{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:8px}mat-card-actions .progress{font-size:12px;font-weight:600;color:#00000061;white-space:nowrap}mat-card-actions.no-progress{grid-template-columns:1fr 1fr}mat-card-actions>*{max-width:fit-content}mat-card-actions>*:last-child{justify-self:flex-end}mat-card-actions button.prev{padding-left:4px}mat-card-actions button.next{padding-right:4px}mat-card-header .header-group{display:flex;align-items:center;justify-content:space-between;margin-top:-8px;width:100%}mat-card-header .header-group mat-card-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}mat-card-header .header-group button{margin-right:-8px}\n"], dependencies: [{ kind: "ngmodule", type: MatCardModule }, { kind: "component", type: i3.MatCard, selector: "mat-card", inputs: ["appearance"], exportAs: ["matCard"] }, { kind: "directive", type: i3.MatCardActions, selector: "mat-card-actions", inputs: ["align"], exportAs: ["matCardActions"] }, { kind: "directive", type: i3.MatCardContent, selector: "mat-card-content" }, { kind: "component", type: i3.MatCardHeader, selector: "mat-card-header" }, { kind: "directive", type: i3.MatCardTitle, selector: "mat-card-title, [mat-card-title], [matCardTitle]" }, { kind: "ngmodule", type: MatMenuModule }, { kind: "component", type: i4.MatMenu, selector: "mat-menu", inputs: ["backdropClass", "aria-label", "aria-labelledby", "aria-describedby", "xPosition", "yPosition", "overlapTrigger", "hasBackdrop", "class", "classList"], outputs: ["closed", "close"], exportAs: ["matMenu"] }, { kind: "directive", type: NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "ngmodule", type: MatButtonModule }, { kind: "component", type: i5.MatButton, selector: "    button[mat-button], button[mat-raised-button], button[mat-flat-button],    button[mat-stroked-button]  ", exportAs: ["matButton"] }, { kind: "component", type: i5.MatIconButton, selector: "button[mat-icon-button]", exportAs: ["matButton"] }, { kind: "ngmodule", type: MatIconModule }, { kind: "component", type: i6.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.12", ngImport: i0, type: TourStepTemplateComponent, decorators: [{
            type: Component,
            args: [{ selector: 'tour-step-template', standalone: true, imports: [
                        MatCardModule,
                        MatMenuModule,
                        NgTemplateOutlet,
                        MatButtonModule,
                        MatIconModule
                    ], template: "<mat-menu [overlapTrigger]=\"false\">\n    <ng-container\n        *ngTemplateOutlet=\"\n            stepTemplate || stepTemplateContent || defaultTemplate;\n            context: { step: step }\n        \"\n    ></ng-container>\n</mat-menu>\n\n<ng-template #defaultTemplate let-step=\"step\">\n    <mat-card\n        (click)=\"$event.stopPropagation()\"\n        [style.width]=\"step.stepDimensions?.width\"\n        [style.min-width]=\"step.stepDimensions?.minWidth\"\n        [style.max-width]=\"step.stepDimensions?.maxWidth\"\n    >\n        <mat-card-header>\n            <div class=\"header-group\">\n                <mat-card-title>\n                    {{ step.title }}\n                </mat-card-title>\n                <button\n                    mat-icon-button\n                    (click)=\"tourService.end()\"\n                    class=\"close\"\n                >\n                    <mat-icon>close</mat-icon>\n                </button>\n            </div>\n        </mat-card-header>\n\n        <mat-card-content\n            class=\"mat-body\"\n            [innerHTML]=\"step.content\"\n        ></mat-card-content>\n\n        <mat-card-actions\n            [class.no-progress]=\"!step.showProgress\"\n        >\n            <button\n                mat-button\n                class=\"prev\"\n                [disabled]=\"!tourService.hasPrev(step)\"\n                (click)=\"tourService.prev()\"\n            >\n                <mat-icon>chevron_left</mat-icon>\n                {{ step.prevBtnTitle }}\n            </button>\n            @if (step.showProgress) {\n                <div class=\"progress\">{{ tourService.steps?.indexOf(step) + 1 }} / {{ tourService.steps?.length }}</div>\n            }\n            @if (tourService.hasNext(step) && !step.nextOnAnchorClick) {\n                <button\n                    class=\"next\"\n                    (click)=\"tourService.next()\"\n                    mat-button\n                >\n                    {{ step.nextBtnTitle }}\n                    <mat-icon iconPositionEnd>chevron_right</mat-icon>\n                </button>\n            }\n            @if (!tourService.hasNext(step)) {\n                <button\n                    mat-button\n                    (click)=\"tourService.end()\"\n                >\n                    {{ step.endBtnTitle }}\n                </button>\n            }\n        </mat-card-actions>\n    </mat-card>\n</ng-template>\n", styles: ["html{--mat-icon-button-touch-target-display: none}.mat-mdc-icon-button.mat-mdc-button-base{--mdc-icon-button-state-layer-size: 36px;width:var(--mdc-icon-button-state-layer-size);height:var(--mdc-icon-button-state-layer-size);padding:6px}::ng-deep .tour-step .mat-mdc-menu-content{padding:0!important}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step{min-width:unset;max-width:unset;overflow:unset;box-shadow:none;filter:drop-shadow(0px 5px 5px rgba(0,0,0,.2)) drop-shadow(0px 8px 10px rgba(0,0,0,.14))}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow{position:relative}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow:after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow:before{bottom:100%;border:solid transparent;content:\" \";height:0;width:0;position:absolute;pointer-events:none}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow:after{border-color:#fff0;border-width:8px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow:before{border-color:#e3e4e600;border-width:9px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before:not(.horizontal):after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before:not(.horizontal):before{right:10px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before:not(.horizontal):after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before:not(.horizontal):before{right:20px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before:not(.horizontal):before{margin-right:-1px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after:not(.horizontal):after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after:not(.horizontal):before{left:10px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after:not(.horizontal):after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after:not(.horizontal):before{left:20px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after:not(.horizontal):after{margin-left:1px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-below:not(.horizontal){margin-top:10px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-below:not(.horizontal):after{border-top-color:transparent;border-bottom-color:#fff}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-below:not(.horizontal):before{border-top-color:transparent;border-bottom-color:#e3e4e6}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-above:not(.horizontal){margin-bottom:10px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-above:not(.horizontal):after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-above:not(.horizontal):before{top:100%}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-above:not(.horizontal):after{border-top-color:#fff;border-bottom-color:transparent}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-above:not(.horizontal):before{border-top-color:#e3e4e6;border-bottom-color:transparent}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before.horizontal{margin-right:10px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before.horizontal:after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before.horizontal:before{left:100%}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before.horizontal:after{border-left-color:#fff;border-right-color:transparent}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-before.horizontal:before{border-left-color:#e3e4e6;border-right-color:transparent}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after.horizontal{margin-left:10px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after.horizontal:after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after.horizontal:before{right:100%}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after.horizontal:after{border-left-color:transparent;border-right-color:#fff}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-after.horizontal:before{border-left-color:transparent;border-right-color:#e3e4e6}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-below.horizontal:after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-below.horizontal:before{top:16px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-below.horizontal:after{margin-top:1px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-above.horizontal:after,::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-above.horizontal:before{bottom:16px}::ng-deep .mat-mdc-menu-panel.mat-mdc-menu-panel.tour-step.arrow.mat-menu-above.horizontal:after{margin-bottom:1px}mat-card{box-shadow:none}mat-card-content{margin:8px 0}mat-card-actions{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:8px}mat-card-actions .progress{font-size:12px;font-weight:600;color:#00000061;white-space:nowrap}mat-card-actions.no-progress{grid-template-columns:1fr 1fr}mat-card-actions>*{max-width:fit-content}mat-card-actions>*:last-child{justify-self:flex-end}mat-card-actions button.prev{padding-left:4px}mat-card-actions button.next{padding-right:4px}mat-card-header .header-group{display:flex;align-items:center;justify-content:space-between;margin-top:-8px;width:100%}mat-card-header .header-group mat-card-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}mat-card-header .header-group button{margin-right:-8px}\n"] }]
        }], ctorParameters: () => [{ type: i1.TourStepTemplateService }, { type: i2.NgxmTourService }], propDecorators: { tourStep: [{
                type: ViewChild,
                args: [MatMenu]
            }], stepTemplate: [{
                type: Input
            }], stepTemplateContent: [{
                type: ContentChild,
                args: [TemplateRef]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG91ci1zdGVwLXRlbXBsYXRlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC11aS10b3VyLW1kLW1lbnUvc3JjL2xpYi90b3VyLXN0ZXAtdGVtcGxhdGUvdG91ci1zdGVwLXRlbXBsYXRlLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC11aS10b3VyLW1kLW1lbnUvc3JjL2xpYi90b3VyLXN0ZXAtdGVtcGxhdGUvdG91ci1zdGVwLXRlbXBsYXRlLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBZ0IsU0FBUyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUNwRyxPQUFPLEVBQUMsMkJBQTJCLEVBQUMsTUFBTSxrQkFBa0IsQ0FBQztBQUM3RCxPQUFPLEVBQUMsT0FBTyxFQUFFLGFBQWEsRUFBQyxNQUFNLHdCQUF3QixDQUFDO0FBSTlELE9BQU8sRUFBQyxhQUFhLEVBQUMsTUFBTSx3QkFBd0IsQ0FBQztBQUNyRCxPQUFPLEVBQUMsZ0JBQWdCLEVBQUMsTUFBTSxpQkFBaUIsQ0FBQztBQUNqRCxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sMEJBQTBCLENBQUM7QUFDekQsT0FBTyxFQUFDLGFBQWEsRUFBQyxNQUFNLHdCQUF3QixDQUFDOzs7Ozs7OztBQWVyRCxNQUFNLE9BQU8seUJBQTBCLFNBQVEsMkJBQTJCO0lBYXRFLFlBQ1ksdUJBQWdELEVBQ3hDLFdBQTRCO1FBRTVDLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUhYLDRCQUF1QixHQUF2Qix1QkFBdUIsQ0FBeUI7UUFDeEMsZ0JBQVcsR0FBWCxXQUFXLENBQWlCO1FBSnpDLFNBQUksR0FBa0IsRUFBRSxDQUFDO0lBT2hDLENBQUM7SUFFTSxlQUFlO1FBQ2xCLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUM7SUFDMUQsQ0FBQzsrR0F0QlEseUJBQXlCO21HQUF6Qix5QkFBeUIseUtBUXBCLFdBQVcsMEZBTmQsT0FBTyx1RUMxQnRCLG81RUF3RUEsMjBMRHZEUSxhQUFhLGloQkFDYixhQUFhLG9UQUNiLGdCQUFnQixtSkFDaEIsZUFBZSx3VUFDZixhQUFhOzs0RkFHUix5QkFBeUI7a0JBYnJDLFNBQVM7K0JBQ0ksb0JBQW9CLGNBR2xCLElBQUksV0FDUDt3QkFDTCxhQUFhO3dCQUNiLGFBQWE7d0JBQ2IsZ0JBQWdCO3dCQUNoQixlQUFlO3dCQUNmLGFBQWE7cUJBQ2hCOzBIQUtNLFFBQVE7c0JBRGQsU0FBUzt1QkFBQyxPQUFPO2dCQUlYLFlBQVk7c0JBRGxCLEtBQUs7Z0JBSUMsbUJBQW1CO3NCQUR6QixZQUFZO3VCQUFDLFdBQVciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0FmdGVyVmlld0luaXQsIENvbXBvbmVudCwgQ29udGVudENoaWxkLCBJbnB1dCwgVGVtcGxhdGVSZWYsIFZpZXdDaGlsZH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1RvdXJIb3RrZXlMaXN0ZW5lckNvbXBvbmVudH0gZnJvbSAnbmd4LXVpLXRvdXItY29yZSc7XG5pbXBvcnQge01hdE1lbnUsIE1hdE1lbnVNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL21lbnUnO1xuaW1wb3J0IHtJTWRTdGVwT3B0aW9ufSBmcm9tICcuLi9zdGVwLW9wdGlvbi5pbnRlcmZhY2UnO1xuaW1wb3J0IHtUb3VyU3RlcFRlbXBsYXRlU2VydmljZX0gZnJvbSAnLi4vdG91ci1zdGVwLXRlbXBsYXRlLnNlcnZpY2UnO1xuaW1wb3J0IHtOZ3htVG91clNlcnZpY2V9IGZyb20gJy4uL25neC1tZC1tZW51LXRvdXIuc2VydmljZSc7XG5pbXBvcnQge01hdENhcmRNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2NhcmQnO1xuaW1wb3J0IHtOZ1RlbXBsYXRlT3V0bGV0fSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtNYXRCdXR0b25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2J1dHRvbic7XG5pbXBvcnQge01hdEljb25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2ljb24nO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ3RvdXItc3RlcC10ZW1wbGF0ZScsXG4gICAgdGVtcGxhdGVVcmw6ICcuL3RvdXItc3RlcC10ZW1wbGF0ZS5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vdG91ci1zdGVwLXRlbXBsYXRlLmNvbXBvbmVudC5zY3NzJ10sXG4gICAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIE1hdENhcmRNb2R1bGUsXG4gICAgICAgIE1hdE1lbnVNb2R1bGUsXG4gICAgICAgIE5nVGVtcGxhdGVPdXRsZXQsXG4gICAgICAgIE1hdEJ1dHRvbk1vZHVsZSxcbiAgICAgICAgTWF0SWNvbk1vZHVsZVxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgVG91clN0ZXBUZW1wbGF0ZUNvbXBvbmVudCBleHRlbmRzIFRvdXJIb3RrZXlMaXN0ZW5lckNvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQge1xuXG4gICAgQFZpZXdDaGlsZChNYXRNZW51KVxuICAgIHB1YmxpYyB0b3VyU3RlcDogTWF0TWVudTtcblxuICAgIEBJbnB1dCgpXG4gICAgcHVibGljIHN0ZXBUZW1wbGF0ZTogVGVtcGxhdGVSZWY8eyBzdGVwOiBJTWRTdGVwT3B0aW9uIH0+O1xuXG4gICAgQENvbnRlbnRDaGlsZChUZW1wbGF0ZVJlZilcbiAgICBwdWJsaWMgc3RlcFRlbXBsYXRlQ29udGVudDogVGVtcGxhdGVSZWY8eyBzdGVwOiBJTWRTdGVwT3B0aW9uIH0+O1xuXG4gICAgcHVibGljIHN0ZXA6IElNZFN0ZXBPcHRpb24gPSB7fTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHRvdXJTdGVwVGVtcGxhdGVTZXJ2aWNlOiBUb3VyU3RlcFRlbXBsYXRlU2VydmljZSxcbiAgICAgICAgcHVibGljIG92ZXJyaWRlIHRvdXJTZXJ2aWNlOiBOZ3htVG91clNlcnZpY2VcbiAgICApIHtcbiAgICAgICAgc3VwZXIodG91clNlcnZpY2UpO1xuICAgIH1cblxuICAgIHB1YmxpYyBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMudG91clN0ZXBUZW1wbGF0ZVNlcnZpY2UudGVtcGxhdGVDb21wb25lbnQgPSB0aGlzO1xuICAgIH1cblxufVxuIiwiPG1hdC1tZW51IFtvdmVybGFwVHJpZ2dlcl09XCJmYWxzZVwiPlxuICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgKm5nVGVtcGxhdGVPdXRsZXQ9XCJcbiAgICAgICAgICAgIHN0ZXBUZW1wbGF0ZSB8fCBzdGVwVGVtcGxhdGVDb250ZW50IHx8IGRlZmF1bHRUZW1wbGF0ZTtcbiAgICAgICAgICAgIGNvbnRleHQ6IHsgc3RlcDogc3RlcCB9XG4gICAgICAgIFwiXG4gICAgPjwvbmctY29udGFpbmVyPlxuPC9tYXQtbWVudT5cblxuPG5nLXRlbXBsYXRlICNkZWZhdWx0VGVtcGxhdGUgbGV0LXN0ZXA9XCJzdGVwXCI+XG4gICAgPG1hdC1jYXJkXG4gICAgICAgIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICBbc3R5bGUud2lkdGhdPVwic3RlcC5zdGVwRGltZW5zaW9ucz8ud2lkdGhcIlxuICAgICAgICBbc3R5bGUubWluLXdpZHRoXT1cInN0ZXAuc3RlcERpbWVuc2lvbnM/Lm1pbldpZHRoXCJcbiAgICAgICAgW3N0eWxlLm1heC13aWR0aF09XCJzdGVwLnN0ZXBEaW1lbnNpb25zPy5tYXhXaWR0aFwiXG4gICAgPlxuICAgICAgICA8bWF0LWNhcmQtaGVhZGVyPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlci1ncm91cFwiPlxuICAgICAgICAgICAgICAgIDxtYXQtY2FyZC10aXRsZT5cbiAgICAgICAgICAgICAgICAgICAge3sgc3RlcC50aXRsZSB9fVxuICAgICAgICAgICAgICAgIDwvbWF0LWNhcmQtdGl0bGU+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBtYXQtaWNvbi1idXR0b25cbiAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInRvdXJTZXJ2aWNlLmVuZCgpXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjbG9zZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8bWF0LWljb24+Y2xvc2U8L21hdC1pY29uPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbWF0LWNhcmQtaGVhZGVyPlxuXG4gICAgICAgIDxtYXQtY2FyZC1jb250ZW50XG4gICAgICAgICAgICBjbGFzcz1cIm1hdC1ib2R5XCJcbiAgICAgICAgICAgIFtpbm5lckhUTUxdPVwic3RlcC5jb250ZW50XCJcbiAgICAgICAgPjwvbWF0LWNhcmQtY29udGVudD5cblxuICAgICAgICA8bWF0LWNhcmQtYWN0aW9uc1xuICAgICAgICAgICAgW2NsYXNzLm5vLXByb2dyZXNzXT1cIiFzdGVwLnNob3dQcm9ncmVzc1wiXG4gICAgICAgID5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBtYXQtYnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJwcmV2XCJcbiAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiIXRvdXJTZXJ2aWNlLmhhc1ByZXYoc3RlcClcIlxuICAgICAgICAgICAgICAgIChjbGljayk9XCJ0b3VyU2VydmljZS5wcmV2KClcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxtYXQtaWNvbj5jaGV2cm9uX2xlZnQ8L21hdC1pY29uPlxuICAgICAgICAgICAgICAgIHt7IHN0ZXAucHJldkJ0blRpdGxlIH19XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIEBpZiAoc3RlcC5zaG93UHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NcIj57eyB0b3VyU2VydmljZS5zdGVwcz8uaW5kZXhPZihzdGVwKSArIDEgfX0gLyB7eyB0b3VyU2VydmljZS5zdGVwcz8ubGVuZ3RoIH19PC9kaXY+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBAaWYgKHRvdXJTZXJ2aWNlLmhhc05leHQoc3RlcCkgJiYgIXN0ZXAubmV4dE9uQW5jaG9yQ2xpY2spIHtcbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibmV4dFwiXG4gICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJ0b3VyU2VydmljZS5uZXh0KClcIlxuICAgICAgICAgICAgICAgICAgICBtYXQtYnV0dG9uXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7eyBzdGVwLm5leHRCdG5UaXRsZSB9fVxuICAgICAgICAgICAgICAgICAgICA8bWF0LWljb24gaWNvblBvc2l0aW9uRW5kPmNoZXZyb25fcmlnaHQ8L21hdC1pY29uPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQGlmICghdG91clNlcnZpY2UuaGFzTmV4dChzdGVwKSkge1xuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgbWF0LWJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwidG91clNlcnZpY2UuZW5kKClcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge3sgc3RlcC5lbmRCdG5UaXRsZSB9fVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgfVxuICAgICAgICA8L21hdC1jYXJkLWFjdGlvbnM+XG4gICAgPC9tYXQtY2FyZD5cbjwvbmctdGVtcGxhdGU+XG4iXX0=